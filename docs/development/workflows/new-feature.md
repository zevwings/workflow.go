# æ–°åŠŸèƒ½å¼€å‘æµç¨‹

> ğŸ¤– **AI å·¥ä½œæµæ–‡æ¡£**ï¼šæœ¬æ–‡æ¡£æ˜¯ä¸“ä¸º AI åŠ©æ‰‹è®¾è®¡çš„æ–°åŠŸèƒ½å¼€å‘å·¥ä½œæµæŒ‡å—ï¼Œæä¾›æ ‡å‡†åŒ–çš„å¼€å‘æµç¨‹å’Œæ£€æŸ¥æ¸…å•ï¼Œå¸®åŠ© AI åŠ©æ‰‹æŒ‰ç…§é¡¹ç›®è§„èŒƒå®Œæˆæ–°åŠŸèƒ½å¼€å‘ã€‚
>
> ğŸ“‹ **å¼€å‘å·¥ä½œæµ**ï¼šä»éœ€æ±‚åˆ†æåˆ°åŠŸèƒ½å®ç°çš„å®Œæ•´æµç¨‹
>
> ğŸš€ **å¿«é€Ÿå¼€å§‹**ï¼š[è·³è½¬åˆ°å¿«é€Ÿæ£€æŸ¥æ¸…å•](#-å¿«é€Ÿæ£€æŸ¥æ¸…å•) | [æŸ¥çœ‹å¼€å‘è§„èŒƒç´¢å¼•](../README.md)

---

## ğŸ“– ç›¸å…³æŒ‡å—

| æŒ‡å—ç±»å‹ | æ—¶é—´æŠ•å…¥ | ä½¿ç”¨åœºæ™¯ | é“¾æ¥ |
|---------|----------|----------|------|
| ğŸš€ **å¼€å‘è§„èŒƒç´¢å¼•** | 1åˆ†é’Ÿ | å¿«é€ŸæŸ¥æ‰¾è§„èŒƒ | [å¼€å‘è§„èŒƒç´¢å¼•](../README.md) |
| âš¡ **æ–°åŠŸèƒ½å¼€å‘** | 2-8å°æ—¶ | å¼€å‘æ–°åŠŸèƒ½ | æœ¬æ–‡æ¡£ |
| ğŸ” **æ£€æŸ¥å·¥ä½œæµ** | 5-15åˆ†é’Ÿ | ä»£ç å®Œæˆåæ£€æŸ¥ | [æäº¤å‰æ£€æŸ¥](./pre-commit.md) |

### ç›¸å…³è§„èŒƒ

- [ä»£ç é£æ ¼è§„èŒƒ](../code-style.md) - ä»£ç é£æ ¼è§„èŒƒ
- [é”™è¯¯å¤„ç†è§„èŒƒ](../error-handling.md) - é”™è¯¯å¤„ç†è§„èŒƒ
- [æ¨¡å—ç»„ç»‡è§„èŒƒ](../module-organization.md) - æ¨¡å—ç»„ç»‡è§„èŒƒ
- [Git å·¥ä½œæµè§„èŒƒ](../git-workflow.md) - Git å·¥ä½œæµè§„èŒƒ

---

## ğŸ“‹ å¿«é€Ÿå¯¼èˆª

### ğŸ¯ æ ¸å¿ƒæ­¥éª¤ï¼ˆå¿…åšï¼‰

- [âš¡ å¿«é€Ÿæ£€æŸ¥æ¸…å•](#-å¿«é€Ÿæ£€æŸ¥æ¸…å•) - 1åˆ†é’Ÿäº†è§£æ ¸å¿ƒæ­¥éª¤
- [ğŸ“‹ æ­¥éª¤1ï¼šéœ€æ±‚åˆ†æ](#-æ­¥éª¤1éœ€æ±‚åˆ†æ) - åˆ†æéœ€æ±‚ï¼Œç¡®å®šå®ç°æ–¹æ¡ˆ
- [ğŸ“‹ æ­¥éª¤2ï¼šå®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘](#-æ­¥éª¤2å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘) - åœ¨ lib/ ä¸­å®ç°æ ¸å¿ƒåŠŸèƒ½
- [ğŸ“‹ æ­¥éª¤3ï¼šæ·»åŠ  CLI å‘½ä»¤å°è£…](#-æ­¥éª¤3æ·»åŠ -cli-å‘½ä»¤å°è£…) - åœ¨ commands/ ä¸­æ·»åŠ å‘½ä»¤

### ğŸ“š è¯¦ç»†æ­¥éª¤ï¼ˆæŒ‰éœ€ï¼‰

- [ğŸ“š æ­¥éª¤4ï¼šæ³¨å†Œå‘½ä»¤](#-æ­¥éª¤4æ³¨å†Œå‘½ä»¤) - åœ¨ root.go ä¸­æ³¨å†Œå‘½ä»¤
- [ğŸ“š æ­¥éª¤5ï¼šæ·»åŠ æµ‹è¯•](#-æ­¥éª¤5æ·»åŠ æµ‹è¯•) - æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- [ğŸ“š æ­¥éª¤6ï¼šæ›´æ–°æ–‡æ¡£](#-æ­¥éª¤6æ›´æ–°æ–‡æ¡£) - æ›´æ–°æ¶æ„æ–‡æ¡£å’Œ README

---

## ğŸš€ å·¥ä½œæµæ­¥éª¤

### ğŸ“Š å·¥ä½œæµç¨‹å›¾

```mermaid
graph TD
    A[ğŸš€ å¼€å§‹æ–°åŠŸèƒ½å¼€å‘] --> B[ğŸ“‹ éœ€æ±‚åˆ†æ]

    B --> C[ğŸ“‹ å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘]
    C --> D[ğŸ“‹ æ·»åŠ  CLI å‘½ä»¤å°è£…]
    D --> E[ğŸ“‹ æ³¨å†Œå‘½ä»¤]

    E --> F[ğŸ“‹ æ·»åŠ æµ‹è¯•]
    F --> G[ğŸ“‹ æ›´æ–°æ–‡æ¡£]

    G --> H{âœ… éªŒè¯é€šè¿‡?}
    H -->|æ˜¯| I[ğŸ“„ å®Œæˆ]
    H -->|å¦| J[âŒ ä¿®å¤é—®é¢˜]

    J --> C
    I --> K[ğŸ‰ å‡†å¤‡æäº¤]

    style A fill:#e1f5fe
    style H fill:#f3e5f5
    style I fill:#e8f5e8
    style J fill:#ffebee
    style K fill:#c8e6c9
```

### ğŸ“‹ è¯¦ç»†æ­¥éª¤

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä¾æ¬¡å®Œæˆæ–°åŠŸèƒ½å¼€å‘ï¼š

### æ­¥éª¤ 1ï¼šéœ€æ±‚åˆ†æ

åˆ†æéœ€æ±‚ï¼Œç¡®å®šå®ç°æ–¹æ¡ˆã€‚

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] éœ€æ±‚å·²æ˜ç¡®
- [ ] å®ç°æ–¹æ¡ˆå·²ç¡®å®š
- [ ] æ¨¡å—ä½ç½®å·²ç¡®å®šï¼ˆlib/ æˆ– commands/ï¼‰

**å‚è€ƒè§„èŒƒ**ï¼š[æ¨¡å—ç»„ç»‡è§„èŒƒ](../module-organization.md#ç›®å½•ç»“æ„)

**å¯¹åº”ç« èŠ‚**ï¼š[æ­¥éª¤1ï¼šéœ€æ±‚åˆ†æ](#-æ­¥éª¤1éœ€æ±‚åˆ†æ)

### æ­¥éª¤ 2ï¼šå®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

åœ¨ `lib/` ä¸­å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ä»£ç å·²æ ¼å¼åŒ–ï¼ˆ`go fmt ./...`ï¼‰
- [ ] é€šè¿‡ golangci-lint æ£€æŸ¥ï¼ˆ`golangci-lint run`ï¼‰
- [ ] é”™è¯¯å¤„ç†ç¬¦åˆè§„èŒƒ
- [ ] æ·»åŠ äº†å¿…è¦çš„æ–‡æ¡£æ³¨é‡Š

**å‚è€ƒè§„èŒƒ**ï¼š
- [ä»£ç é£æ ¼è§„èŒƒ](../code-style.md)
- [é”™è¯¯å¤„ç†è§„èŒƒ](../error-handling.md)
- [æ–‡æ¡£è§„èŒƒ](../references/documentation.md)

**ä»£ç ç¤ºä¾‹**ï¼š

```go
// internal/lib/my_module/feature.go
package mymodule

import (
    "fmt"
)

// MyFeature æ–°åŠŸèƒ½å®ç°
type MyFeature struct {
    // å­—æ®µ
}

// NewMyFeature åˆ›å»ºæ–°åŠŸèƒ½å®ä¾‹
func NewMyFeature() (*MyFeature, error) {
    // å®ç°
    return &MyFeature{}, nil
}

// Execute æ‰§è¡ŒåŠŸèƒ½
func (f *MyFeature) Execute() error {
    // å®ç°
    return nil
}
```

**å¯¹åº”ç« èŠ‚**ï¼š[æ­¥éª¤2ï¼šå®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘](#-æ­¥éª¤2å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘)

### æ­¥éª¤ 3ï¼šæ·»åŠ  CLI å‘½ä»¤å°è£…

åœ¨ `commands/` ä¸­æ·»åŠ  CLI å‘½ä»¤å°è£…ã€‚

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] å‘½ä»¤å‚æ•°å®šä¹‰æ­£ç¡®
- [ ] ç”¨æˆ·äº¤äº’å‹å¥½
- [ ] é”™è¯¯æ¶ˆæ¯æ¸…æ™°

**å‚è€ƒè§„èŒƒ**ï¼š
- [å‘½åè§„èŒƒ](../naming.md#cli-å‚æ•°å‘½åè§„èŒƒ)
- [é”™è¯¯å¤„ç†è§„èŒƒ](../error-handling.md)

**ä»£ç ç¤ºä¾‹**ï¼š

```go
// internal/commands/my_command.go
package commands

import (
    "github.com/spf13/cobra"
    "github.com/your-org/workflow/internal/lib/mymodule"
)

// MyCommand æ–°åŠŸèƒ½å‘½ä»¤
type MyCommand struct {
    // Param å‚æ•°è¯´æ˜
    Param string
}

// NewMyCommand åˆ›å»ºæ–°å‘½ä»¤å®ä¾‹
func NewMyCommand() *cobra.Command {
    cmd := &MyCommand{}

    cobraCmd := &cobra.Command{
        Use:   "my-command",
        Short: "æ–°åŠŸèƒ½å‘½ä»¤",
        RunE: func(c *cobra.Command, args []string) error {
            return cmd.Execute()
        },
    }

    cobraCmd.Flags().StringVarP(&cmd.Param, "param", "p", "", "å‚æ•°è¯´æ˜")

    return cobraCmd
}

// Execute æ‰§è¡Œå‘½ä»¤
func (c *MyCommand) Execute() error {
    // è°ƒç”¨ lib å±‚å®ç°
    feature, err := mymodule.NewMyFeature()
    if err != nil {
        return err
    }
    return feature.Execute()
}
```

**å¯¹åº”ç« èŠ‚**ï¼š[æ­¥éª¤3ï¼šæ·»åŠ  CLI å‘½ä»¤å°è£…](#-æ­¥éª¤3æ·»åŠ -cli-å‘½ä»¤å°è£…)

### æ­¥éª¤ 4ï¼šæ³¨å†Œå‘½ä»¤

åœ¨ `internal/cli/root.go` ä¸­æ³¨å†Œå‘½ä»¤ã€‚

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] å‘½ä»¤å·²æ³¨å†Œ
- [ ] å‘½ä»¤è·¯å¾„æ­£ç¡®
- [ ] è¡¥å…¨è„šæœ¬å·²æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰

**å‘½ä»¤ç¤ºä¾‹**ï¼š

```go
// internal/cli/root.go
package cli

import (
    "github.com/spf13/cobra"
    "github.com/your-org/workflow/internal/commands"
)

// NewRootCommand åˆ›å»ºæ ¹å‘½ä»¤
func NewRootCommand() *cobra.Command {
    rootCmd := &cobra.Command{
        Use:   "workflow",
        Short: "Workflow CLI",
    }

    // æ³¨å†Œæ–°å‘½ä»¤
    rootCmd.AddCommand(commands.NewMyCommand())

    return rootCmd
}
```

**å¯¹åº”ç« èŠ‚**ï¼š[æ­¥éª¤4ï¼šæ³¨å†Œå‘½ä»¤](#-æ­¥éª¤4æ³¨å†Œå‘½ä»¤)

### æ­¥éª¤ 5ï¼šæ·»åŠ æµ‹è¯•

æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] å•å…ƒæµ‹è¯•å·²æ·»åŠ 
- [ ] é›†æˆæµ‹è¯•å·²æ·»åŠ ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

**å‚è€ƒè§„èŒƒ**ï¼š[æµ‹è¯•è§„èŒƒ](../../testing/README.md)

**ä»£ç ç¤ºä¾‹**ï¼š

```go
// internal/lib/my_module/feature_test.go
package mymodule

import (
    "testing"
    "github.com/stretchr/testify/assert"
)

func TestMyFeature(t *testing.T) {
    feature, err := NewMyFeature()
    assert.NoError(t, err)
    assert.NotNil(t, feature)

    err = feature.Execute()
    assert.NoError(t, err)
}
```

**å¯¹åº”ç« èŠ‚**ï¼š[æ­¥éª¤5ï¼šæ·»åŠ æµ‹è¯•](#-æ­¥éª¤5æ·»åŠ æµ‹è¯•)

### æ­¥éª¤ 6ï¼šæ›´æ–°æ–‡æ¡£

æ›´æ–°æ¶æ„æ–‡æ¡£å’Œ READMEã€‚

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ¶æ„æ–‡æ¡£å·²åˆ›å»º/æ›´æ–°
- [ ] README.md ä¸­çš„å‘½ä»¤æ¸…å•å·²æ›´æ–°
- [ ] æ–‡æ¡£ç´¢å¼•å·²æ›´æ–°ï¼ˆå¦‚éœ€è¦ï¼‰

**å‚è€ƒè§„èŒƒ**ï¼š[æ–‡æ¡£è§„èŒƒ](../references/documentation.md)

**å¯¹åº”ç« èŠ‚**ï¼š[æ­¥éª¤6ï¼šæ›´æ–°æ–‡æ¡£](#-æ­¥éª¤6æ›´æ–°æ–‡æ¡£)

---

## âš¡ å¿«é€Ÿæ£€æŸ¥æ¸…å•

### å‡†å¤‡é˜¶æ®µ

- [ ] éœ€æ±‚å·²æ˜ç¡®
- [ ] å®ç°æ–¹æ¡ˆå·²ç¡®å®š
- [ ] åˆ†æ”¯å·²åˆ›å»ºï¼ˆ`feature/feature-name`ï¼‰

### å®ç°é˜¶æ®µ

- [ ] æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å·²å®ç°ï¼ˆlib/ï¼‰
- [ ] CLI å‘½ä»¤å°è£…å·²æ·»åŠ ï¼ˆcommands/ï¼‰
- [ ] å‘½ä»¤å·²æ³¨å†Œï¼ˆinternal/cli/root.goï¼‰
- [ ] æµ‹è¯•å·²æ·»åŠ 
- [ ] æ–‡æ¡£å·²æ›´æ–°

### éªŒè¯é˜¶æ®µ

- [ ] ä»£ç å·²æ ¼å¼åŒ–ï¼ˆ`go fmt ./...`ï¼‰
- [ ] é€šè¿‡ golangci-lint æ£€æŸ¥ï¼ˆ`golangci-lint run`ï¼‰
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ`go test ./...`ï¼‰
- [ ] æ–‡æ¡£å·²åŒæ­¥æ›´æ–°

---

## ğŸ“„ åç»­æ­¥éª¤

å®Œæˆæœ¬å·¥ä½œæµåï¼Œå»ºè®®ï¼š

1. **è¿è¡Œæ£€æŸ¥å·¥ä½œæµ**ï¼šå‚è€ƒ [æäº¤å‰æ£€æŸ¥](./pre-commit.md)
2. **ä»£ç å®¡æŸ¥**ï¼šå‚è€ƒ [ä»£ç å®¡æŸ¥è§„èŒƒ](../code-review.md)
3. **æäº¤ä»£ç **ï¼šå‚è€ƒ [æäº¤è§„èŒƒ](../commit.md)

---

## â“ å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šä¸ç¡®å®šæ¨¡å—ä½ç½®

**ç—‡çŠ¶**ï¼šä¸ç¡®å®šåŠŸèƒ½åº”è¯¥æ”¾åœ¨ lib/ è¿˜æ˜¯ commands/

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ”¾åœ¨ `lib/`
2. CLI å‘½ä»¤å°è£…æ”¾åœ¨ `commands/`
3. å‚è€ƒ [æ¨¡å—ç»„ç»‡è§„èŒƒ](../module-organization.md)

### é—®é¢˜ 2ï¼šæµ‹è¯•è¦†ç›–ç‡ä¸è¶³

**ç—‡çŠ¶**ï¼šæµ‹è¯•è¦†ç›–ç‡ä½äºè¦æ±‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ·»åŠ ç¼ºå¤±çš„æµ‹è¯•ç”¨ä¾‹
2. é‡ç‚¹å…³æ³¨å…³é”®ä¸šåŠ¡é€»è¾‘çš„æµ‹è¯•è¦†ç›–
3. ä½¿ç”¨ `go test -cover ./...` æ£€æŸ¥è¦†ç›–ç‡

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

### å¼€å‘è§„èŒƒ

- [ä»£ç é£æ ¼è§„èŒƒ](../code-style.md) - ä»£ç é£æ ¼è§„èŒƒ
- [é”™è¯¯å¤„ç†è§„èŒƒ](../error-handling.md) - é”™è¯¯å¤„ç†è§„èŒƒ
- [æ¨¡å—ç»„ç»‡è§„èŒƒ](../module-organization.md) - æ¨¡å—ç»„ç»‡è§„èŒƒ
- [æ–‡æ¡£è§„èŒƒ](../references/documentation.md) - æ–‡æ¡£è§„èŒƒ

### æ£€æŸ¥å·¥ä½œæµ

- [æäº¤å‰æ£€æŸ¥](./pre-commit.md) - ä»£ç è´¨é‡æ£€æŸ¥æµç¨‹

---

## âœ… æ£€æŸ¥æ¸…å•

ä½¿ç”¨æœ¬å·¥ä½œæµæ—¶ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] éœ€æ±‚å·²æ˜ç¡®
- [ ] æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å·²å®ç°
- [ ] CLI å‘½ä»¤å°è£…å·²æ·»åŠ 
- [ ] å‘½ä»¤å·²æ³¨å†Œ
- [ ] æµ‹è¯•å·²æ·»åŠ 
- [ ] æ–‡æ¡£å·²æ›´æ–°

---

**æœ€åæ›´æ–°**: 2025-01-27

